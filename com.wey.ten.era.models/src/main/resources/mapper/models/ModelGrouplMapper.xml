<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wey.ten.era.application.models.dao.ModelGroupDao">
 
  <select id="getAll" resultType="com.wey.ten.era.application.models.entity.ModelGroup" parameterType="com.wey.ten.era.application.models.entity.ModelGroup">
    SELECT
     id as id,
     industry_model_id as industryModelId,
     group_name AS groupName,
     create_time AS createTime
    FROM model_group_info
    WHERE 1=1
    <if test="groupName!=null">
        and group_name like CONCAT('%',#{groupName},'%')
    </if>
    <if test="industryModelId!=null">
        and industry_model_id = #{industryModelId}
    </if>
  </select>
  
  <insert id="add" parameterType="com.wey.ten.era.application.models.entity.ModelGroup">
  	 insert into model_group_info
  	 (
	    industry_model_id,
	    group_name,
	    create_time,
	    update_time
  	 )values(
  	    #{industryModelId},
  	    #{groupName},
  	    NOW(),
  	    NOW()
  	 )
  </insert>
  
  <update id="update" parameterType="com.wey.ten.era.application.models.entity.ModelGroup">
  	 update model_group_info set 
  	 group_name=#{groupName},
     update_time=NOW()
   where 
     id=#{id}
  </update>
  
</mapper>